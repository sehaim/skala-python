# ------------------------------------------------------------
# 작성자 : 임세하
# 작성목적 : Python 제너레이터 기반 메모리 절약형 로직 실습
# 작성일 : 2025-01-12
# ------------------------------------------------------------

import sys


N = 1_000_000  # 0 ~ 999,999


# ============================================================
# 1. 리스트 생성 후 총합 구하기
# ============================================================
nums_list = list(range(N))  # 0부터 999999까지 리스트로 생성
total_list = sum(nums_list)  # 리스트의 총합

print("1. 리스트 총합:", total_list)


# ============================================================
# 2. 같은 결과를 제너레이터 함수로 구현
# ============================================================
def number_generator(limit: int):
    for i in range(limit):
        yield i


nums_gen = number_generator(N)
total_gen = sum(nums_gen)

print("2. 제너레이터 총합:", total_gen)


# ============================================================
# 3. 두 방법의 메모리 사용 차이를 sys.getsizeof()로 확인
# ============================================================
list_size = sys.getsizeof(nums_list)

gen_obj = number_generator(N)
gen_size = sys.getsizeof(gen_obj)

print("3. sys.getsizeof() 비교")
print(f" - 리스트 객체 크기: {list_size:,} bytes")
print(f" - 제너레이터 객체 크기: {gen_size:,} bytes")
